<section class="main-account section">
  <div class="container">
    <h1 class="account__title">{{ 'customer.account.title' | t }}</h1>

    <div class="account-grid">
      <div class="account-sidebar">
        <nav class="account-nav">
          <a href="{{ routes.account_url }}" class="account-nav__link account-nav__link--active">
            {{ 'customer.account.orders' | t }}
          </a>
          <a href="{{ routes.account_addresses_url }}" class="account-nav__link">
            {{ 'customer.account.addresses' | t }}
          </a>
          <a href="{{ routes.account_logout_url }}" class="account-nav__link">
            {{ 'customer.account.logout' | t }}
          </a>
        </nav>
      </div>

      <div class="account-content">
        <h2>{{ 'customer.orders.title' | t }}</h2>

        {%- if customer.orders.size > 0 -%}
          <table class="orders-table">
            <thead>
              <tr>
                <th>{{ 'customer.orders.order_number' | t }}</th>
                <th>{{ 'customer.orders.date' | t }}</th>
                <th>{{ 'customer.orders.payment_status' | t }}</th>
                <th>{{ 'customer.orders.fulfillment_status' | t }}</th>
                <th>{{ 'customer.orders.total' | t }}</th>
              </tr>
            </thead>
            <tbody>
              {%- for order in customer.orders -%}
                <tr>
                  <td>
                    <a href="{{ order.customer_url }}">{{ order.name }}</a>
                  </td>
                  <td>{{ order.created_at | date: format: 'abbreviated_date' }}</td>
                  <td>{{ order.financial_status_label }}</td>
                  <td>{{ order.fulfillment_status_label }}</td>
                  <td>{{ order.total_price | money }}</td>
                </tr>
              {%- endfor -%}
            </tbody>
          </table>
        {%- else -%}
          <p>{{ 'customer.orders.none' | t }}</p>
        {%- endif -%}
      </div>
    </div>
  </div>
</section>

{% stylesheet %}
  .account__title {
    margin-block-end: var(--space-8);
    font-size: var(--font-size-2xl);
  }

  .account-grid {
    display: grid;
    gap: var(--space-8);
  }

  @media (min-width: 48rem) {
    .account-grid {
      grid-template-columns: 12rem 1fr;
    }
  }

  .account-nav {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .account-nav__link {
    padding: var(--space-2) var(--space-3);
    font-size: var(--font-size-sm);
    text-decoration: none;
    color: var(--color-text);
    border-radius: var(--radius-sm);
    transition: background-color var(--duration-fast) var(--ease-default);
  }

  .account-nav__link:hover,
  .account-nav__link--active {
    background-color: var(--color-background-secondary);
  }

  .orders-table {
    width: 100%;
    border-collapse: collapse;
  }

  .orders-table th,
  .orders-table td {
    padding: var(--space-3);
    text-align: left;
    border-block-end: 1px solid var(--color-border);
  }

  .orders-table th {
    font-weight: 600;
    font-size: var(--font-size-sm);
  }

  .orders-table td {
    font-size: var(--font-size-sm);
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Account",
  "settings": []
}
{% endschema %}
